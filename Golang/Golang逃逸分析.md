# Golang逃逸分析

## 什么是逃逸分析

在编译程序优化理论中，逃逸分析是一种确定指针动态范围的方法，简单来说就是分析在程序的哪些地方可以访问到该指针。

再往简单的说，Go是通过在编译器里做逃逸分析（escape analysis）来决定一个对象放栈上还是放堆上：不逃逸的对象放栈上，可能逃逸的放堆上。

`逃逸分析`涉及堆和栈的概念，如果忘记的同学我们可以简单的回顾一下：

### 堆和栈

- 堆（Heap）：一般来讲是人为手动进行管理，手动申请、分配、释放。一般所涉及的内存大小并不定，一般会存放较大的对象。另外其分配相对慢，涉及到的指令动作也相对多。
- 栈（Stack）：由编译器进行管理，自动申请、分配、释放。一般不会太大，我们常见的函数参数（不同平台允许存放的数量不同），局部变量等等都会存放在栈上。

#### 堆和栈的区别



### 栈



## 为何需要逃逸分析



## 如何确定逃逸是否逃逸



## 逃逸案例











